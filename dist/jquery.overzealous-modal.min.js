/*!
 * overzealous-modal v1 (https://github.com/amabes/overzealous-modal)
 * Author: Alan Mabry
 * Website: www.alanmabry.com/work
 * Contact: frontend@alanmabry.com
 *
 * Copyright 2015 overzealous-modal
 * Licensed under MIT (https://github.com/amabes/overzealous-modal/blob/master/LICENSE)
 */
!function(e){e.fn.overzealous=function(o,a){var n=this,r=e.extend({},e.fn.overzealous.defaults,o),s='<div id="overzealous-modal-background" rel="'+window.location.pathname+'"></div>',d=function(){n.addClass("overzealous-modal"),"undefined"!=typeof r.blur&&e(r.blur).addClass("overzealous-blur"),"undefined"!=typeof r.preserve?n.wrap('<div id="overzealous-modal-background" rel="'+window.location.pathname+'"></div>'):n.wrap('<div id="overzealous-modal-wrapper" rel="'+window.location.pathname+'"></div>').appendTo("#overzealous-modal-background"),e.fn.overzealous.markup(r),e("#overzealous-modal-background").fadeIn("fast",function(){e(".overzealous-modal").fadeIn("fast",function(){e.isFunction(a)&&a()})})};0!=e("#overzealous-modal-background").length?e.fn.overzealous.close({close:!1},function(){d()}):(e("body").append(s),d())},e.fn.overzealous.defaults={},e.fn.overzealous.markup=function(o){var a='<div id="overzealous-btns">';if("undefined"!=typeof o.buttons){if("undefined"!=typeof o.buttons.primary){var n=" ";"undefined"!=typeof o.buttons.primary.id&&(n=' id="'+o.buttons.primary.id+'"'),a+="<a"+n+'primary class="overzealous-btn '+o.buttons.primary.classes+'" href="javascript:void(0);">'+o.buttons.primary.text+"</a>"}if("undefined"!=typeof o.buttons.secondary){var r=" ";"undefined"!=typeof o.buttons.secondary.id&&(r=' id="'+o.buttons.secondary.id+'"'),a+="<a"+r+'secondary class="overzealous-btn '+o.buttons.secondary.classes+'" href="javascript:void(0);">'+o.buttons.secondary.text+"</a>"}}a+="</div>",e(".overzealous-modal").append(a),"undefined"!=typeof o.buttons&&e.fn.overzealous.click_events(o.buttons)},e.fn.overzealous.click_events=function(o){"undefined"!=typeof o.primary&&e(".overzealous-btn[primary]").unbind().click(function(){o.primary.action(),e.fn.overzealous.close()}),"undefined"!=typeof o.secondary&&e(".overzealous-btn[secondary]").unbind().click(function(){o.secondary.action()})},e.fn.overzealous.close=function(o,a){"undefined"==typeof o&&(o={}),0!==e(".overzealous-blur").length&&e(".overzealous-blur").removeClass("overzealous-blur"),"undefined"==typeof o.close&&(o.close=!0),e("#overzealous-btns").remove(),0==e("#overzealous-modal-wrapper").length?e(".overzealous-modal").hide().unwrap().removeClass("overzealous-modal"):e(".overzealous-modal").hide().appendTo("#overzealous-modal-wrapper").unwrap().removeClass("overzealous-modal"),o.close&&e("#overzealous-modal-background").remove(),e.isFunction(a)&&a()}}(jQuery);
